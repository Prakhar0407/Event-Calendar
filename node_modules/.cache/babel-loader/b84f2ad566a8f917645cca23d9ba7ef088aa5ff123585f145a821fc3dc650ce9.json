{"ast":null,"code":"import _objectSpread from\"C:/Users/prakh/OneDrive/Desktop/project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{startOfMonth,endOfMonth,startOfWeek,endOfWeek,eachDayOfInterval,format,addMonths,subMonths,isSameDay}from'date-fns';import EventForm from'./components/EventForm';import CalendarDay from'./components/CalendarDay';import{DragDropContext}from'react-beautiful-dnd';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[currentMonth,setCurrentMonth]=useState(new Date());const[events,setEvents]=useState(()=>JSON.parse(localStorage.getItem('events'))||[]);const[selectedDate,setSelectedDate]=useState(null);const[editingEvent,setEditingEvent]=useState(null);const[searchQuery,setSearchQuery]=useState('');const days=eachDayOfInterval({start:startOfWeek(startOfMonth(currentMonth)),end:endOfWeek(endOfMonth(currentMonth))});useEffect(()=>{localStorage.setItem('events',JSON.stringify(events));},[events]);const addEvent=event=>{setEvents([...events,_objectSpread(_objectSpread({},event),{},{id:Date.now()})]);setSelectedDate(null);};const updateEvent=updated=>{setEvents(events.map(e=>e.id===updated.id?updated:e));setEditingEvent(null);};const deleteEvent=id=>{setEvents(events.filter(e=>e.id!==id));setEditingEvent(null);};const handleDragEnd=result=>{const{source,destination,draggableId}=result;if(!destination)return;const draggedEvent=events.find(e=>e.id.toString()===draggableId);if(!draggedEvent)return;const newDate=new Date(destination.droppableId);// ‚úÖ Fix: convert string to Date\nif(!newDate)return;const updatedEvent=_objectSpread(_objectSpread({},draggedEvent),{},{date:newDate});setEvents(events.map(e=>e.id===draggedEvent.id?updatedEvent:e));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center'},children:\"Event Calendar\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentMonth(subMonths(currentMonth,1)),children:\"Previous\"}),/*#__PURE__*/_jsx(\"strong\",{style:{margin:'0 1rem'},children:format(currentMonth,'MMMM yyyy')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentMonth(addMonths(currentMonth,1)),children:\"Next\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',margin:'1rem'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search events...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{padding:'0.5rem',width:'300px'}})}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsx(\"div\",{className:\"calendar\",children:days.map((day,index)=>/*#__PURE__*/_jsx(CalendarDay,{day:day,events:events.filter(e=>{var _e$description;return isSameDay(new Date(e.date),day)&&(e.title.toLowerCase().includes(searchQuery.toLowerCase())||((_e$description=e.description)===null||_e$description===void 0?void 0:_e$description.toLowerCase().includes(searchQuery.toLowerCase())));}),onAdd:()=>setSelectedDate(day),onEdit:setEditingEvent,dayIndex:index},index))})}),selectedDate&&/*#__PURE__*/_jsx(EventForm,{date:selectedDate,onSave:addEvent,onCancel:()=>setSelectedDate(null)}),editingEvent&&/*#__PURE__*/_jsx(EventForm,{event:editingEvent,onSave:updateEvent,onDelete:deleteEvent,onCancel:()=>setEditingEvent(null)})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","startOfMonth","endOfMonth","startOfWeek","endOfWeek","eachDayOfInterval","format","addMonths","subMonths","isSameDay","EventForm","CalendarDay","DragDropContext","jsx","_jsx","jsxs","_jsxs","App","currentMonth","setCurrentMonth","Date","events","setEvents","JSON","parse","localStorage","getItem","selectedDate","setSelectedDate","editingEvent","setEditingEvent","searchQuery","setSearchQuery","days","start","end","setItem","stringify","addEvent","event","_objectSpread","id","now","updateEvent","updated","map","e","deleteEvent","filter","handleDragEnd","result","source","destination","draggableId","draggedEvent","find","toString","newDate","droppableId","updatedEvent","date","children","style","textAlign","onClick","margin","type","placeholder","value","onChange","target","padding","width","onDragEnd","className","day","index","_e$description","title","toLowerCase","includes","description","onAdd","onEdit","dayIndex","onSave","onCancel","onDelete"],"sources":["C:/Users/prakh/OneDrive/Desktop/project/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  startOfMonth,\r\n  endOfMonth,\r\n  startOfWeek,\r\n  endOfWeek,\r\n  eachDayOfInterval,\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  isSameDay,\r\n} from 'date-fns';\r\nimport EventForm from './components/EventForm';\r\nimport CalendarDay from './components/CalendarDay';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\n\r\nconst App = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [events, setEvents] = useState(() => JSON.parse(localStorage.getItem('events')) || []);\r\n  const [selectedDate, setSelectedDate] = useState(null);\r\n  const [editingEvent, setEditingEvent] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const days = eachDayOfInterval({\r\n    start: startOfWeek(startOfMonth(currentMonth)),\r\n    end: endOfWeek(endOfMonth(currentMonth)),\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('events', JSON.stringify(events));\r\n  }, [events]);\r\n\r\n  const addEvent = (event) => {\r\n    setEvents([...events, { ...event, id: Date.now() }]);\r\n    setSelectedDate(null);\r\n  };\r\n\r\n  const updateEvent = (updated) => {\r\n    setEvents(events.map((e) => (e.id === updated.id ? updated : e)));\r\n    setEditingEvent(null);\r\n  };\r\n\r\n  const deleteEvent = (id) => {\r\n    setEvents(events.filter((e) => e.id !== id));\r\n    setEditingEvent(null);\r\n  };\r\n\r\n  const handleDragEnd = (result) => {\r\n    const { source, destination, draggableId } = result;\r\n    if (!destination) return;\r\n  \r\n    const draggedEvent = events.find((e) => e.id.toString() === draggableId);\r\n    if (!draggedEvent) return;\r\n  \r\n    const newDate = new Date(destination.droppableId); // ‚úÖ Fix: convert string to Date\r\n    if (!newDate) return;\r\n  \r\n    const updatedEvent = { ...draggedEvent, date: newDate };\r\n    setEvents(events.map((e) => (e.id === draggedEvent.id ? updatedEvent : e)));\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: 'center' }}>Event Calendar</h1>\r\n      <div style={{ textAlign: 'center' }}>\r\n        <button onClick={() => setCurrentMonth(subMonths(currentMonth, 1))}>Previous</button>\r\n        <strong style={{ margin: '0 1rem' }}>{format(currentMonth, 'MMMM yyyy')}</strong>\r\n        <button onClick={() => setCurrentMonth(addMonths(currentMonth, 1))}>Next</button>\r\n      </div>\r\n\r\n      {/* üîç Search Input */}\r\n      <div style={{ textAlign: 'center', margin: '1rem' }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search events...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          style={{ padding: '0.5rem', width: '300px' }}\r\n        />\r\n      </div>\r\n\r\n      <DragDropContext onDragEnd={handleDragEnd}>\r\n        <div className=\"calendar\">\r\n          {days.map((day, index) => (\r\n            <CalendarDay\r\n              key={index}\r\n              day={day}\r\n              events={events.filter((e) =>\r\n                isSameDay(new Date(e.date), day) &&\r\n                (e.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                 e.description?.toLowerCase().includes(searchQuery.toLowerCase()))\r\n              )}\r\n              onAdd={() => setSelectedDate(day)}\r\n              onEdit={setEditingEvent}\r\n              dayIndex={index}\r\n            />\r\n          ))}\r\n        </div>\r\n      </DragDropContext>\r\n\r\n      {selectedDate && (\r\n        <EventForm\r\n          date={selectedDate}\r\n          onSave={addEvent}\r\n          onCancel={() => setSelectedDate(null)}\r\n        />\r\n      )}\r\n      {editingEvent && (\r\n        <EventForm\r\n          event={editingEvent}\r\n          onSave={updateEvent}\r\n          onDelete={deleteEvent}\r\n          onCancel={() => setEditingEvent(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}